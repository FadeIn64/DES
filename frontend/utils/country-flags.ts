export function getCountryFlag(location: string): string {
  // Extract country from location (format: "City, Country")
  const country = location.split(", ").pop()?.trim().toLowerCase()

  const flagMap: Record<string, string> = {
    венгрия: "🇭🇺",
    hungary: "🇭🇺",
    великобритания: "🇬🇧",
    "united kingdom": "🇬🇧",
    англия: "🇬🇧",
    england: "🇬🇧",
    италия: "🇮🇹",
    italy: "🇮🇹",
    испания: "🇪🇸",
    spain: "🇪🇸",
    франция: "🇫🇷",
    france: "🇫🇷",
    германия: "🇩🇪",
    germany: "🇩🇪",
    австрия: "🇦🇹",
    austria: "🇦🇹",
    бельгия: "🇧🇪",
    belgium: "🇧🇪",
    нидерланды: "🇳🇱",
    netherlands: "🇳🇱",
    голландия: "🇳🇱",
    монако: "🇲🇨",
    monaco: "🇲🇨",
    канада: "🇨🇦",
    canada: "🇨🇦",
    сша: "🇺🇸",
    usa: "🇺🇸",
    "united states": "🇺🇸",
    мексика: "🇲🇽",
    mexico: "🇲🇽",
    бразилия: "🇧🇷",
    brazil: "🇧🇷",
    аргентина: "🇦🇷",
    argentina: "🇦🇷",
    австралия: "🇦🇺",
    australia: "🇦🇺",
    япония: "🇯🇵",
    japan: "🇯🇵",
    сингапур: "🇸🇬",
    singapore: "🇸🇬",
    малайзия: "🇲🇾",
    malaysia: "🇲🇾",
    китай: "🇨🇳",
    china: "🇨🇳",
    "южная корея": "🇰🇷",
    "south korea": "🇰🇷",
    индия: "🇮🇳",
    india: "🇮🇳",
    турция: "🇹🇷",
    turkey: "🇹🇷",
    россия: "🇷🇺",
    russia: "🇷🇺",
    азербайджан: "🇦🇿",
    azerbaijan: "🇦🇿",
    "саудовская аравия": "🇸🇦",
    "saudi arabia": "🇸🇦",
    оаэ: "🇦🇪",
    uae: "🇦🇪",
    "united arab emirates": "🇦🇪",
    катар: "🇶🇦",
    qatar: "🇶🇦",
    бахрейн: "🇧🇭",
    bahrain: "🇧🇭",
    "южная африка": "🇿🇦",
    "south africa": "🇿🇦",
  }

  return flagMap[country || ""] || "🏁"
}

export function getCountryName(location: string): string {
  return location.split(", ").pop()?.trim() || location
}
